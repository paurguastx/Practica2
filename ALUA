library ieee;
use ieee.std_logic_1164.all;

entity ALUA is
port( A, B: in std_logic_vector (3 downto 0);
      S: in std_logic;
      R: out std_logic_vector (3 downto 0);
      Cout: out std_logic);
end ALUA;

architecture STRL of ALUA is
component FA4
port( 	A, B: in std_logic_vector(3 downto 0);
	Cin: in std_logic;
	S: out std_logic_vector(3 downto 0);
	Cout: out std_logic);
end component;
BEGIN
	PROCESS(S)
	BEGIN
		IF(S='0') THEN
			U1: FA4 PORT MAP (A, B, S, R, Cout);
		ELSE
			U1: FA4 PORT MAP (A, (NOT B), S, R, Cout);
		END IF;
	END PROCESS;
END STRL;
